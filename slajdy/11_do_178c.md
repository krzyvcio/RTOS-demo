# DO-178C / DO-254 - Certyfikacja Oprogramowania i Sprzętu w Lotnictwie

## Definicja

**DO-178C** - Standard określający wytyczne dla rozwoju oprogramowania w systemach lotniczych.
**DO-254** - Standard dla rozwoju sprzętu (FPGA, ASIC, etc.) w systemach lotniczych.

______________________________________________________________________

## Poziomy krytyczności DAL (Design Assurance Level)

```
┌───────────────────────────────────────────────────────────────┐
│                    POZIOMY DAL (DO-178C)                      │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│  DAL   │ Failure Condition    │ Example Systems              │
│  ──────┼──────────────────────┼──────────────────────────────│
│  A     │ Catastrophic         │ Flight controls, autoland    │
│        │ (śmierć pasażerów)   │ Primary displays              │
│  ──────┼──────────────────────┼──────────────────────────────│
│  B     │ Hazardous            │ Engine controls (partial)    │
│        │ (ciężkie obrażenia)  │ Navigation systems            │
│  ──────┼──────────────────────┼──────────────────────────────│
│  C     │ Major                │ Communication systems        │
│        │ (znaczne utrudnienia)│ Secondary displays            │
│  ──────┼──────────────────────┼──────────────────────────────│
│  D     │ Minor                │ Entertainment systems        │
│        │ (małe utrudnienia)   │ Cabin lighting               │
│  ──────┼──────────────────────┼──────────────────────────────│
│  E     │ No Effect            │ Passenger entertainment      │
│        │ (brak wpływu)        │ Wi-Fi systems                │
│                                                               │
└───────────────────────────────────────────────────────────────┘
```

______________________________________________________________________

## Struktura DO-178C

```
┌─────────────────────────────────────────────────────────────┐
│                    PROCES DO-178C                           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  1. PLANNING                                                │
│     ├── Plan for Software Aspects of Certification (PSAC)  │
│     ├── Software Development Plan                           │
│     ├── Software Verification Plan                          │
│     ├── Software Configuration Management Plan              │
│     └── Software Quality Assurance Plan                     │
│                                                             │
│  2. DEVELOPMENT                                             │
│     ├── Requirements (High-level, Low-level)               │
│     ├── Design (Architecture, Detailed)                    │
│     ├── Coding                                              │
│     └── Integration                                          │
│                                                             │
│  3. VERIFICATION                                            │
│     ├── Reviews and Analysis                                │
│     ├── Testing (Requirements-based, Structure-based)       │
│     ├── Coverage Analysis                                   │
│     └── Traceability                                        │
│                                                             │
│  4. CONFIGURATION MANAGEMENT                                │
│     ├── Version control                                     │
│     ├── Baseline management                                 │
│     └── Problem reporting                                   │
│                                                             │
│  5. QUALITY ASSURANCE                                       │
│     ├── Process audits                                      │
│     ├── Product audits                                      │
│     └── Transition criteria                                 │
│                                                             │
│  6. CERTIFICATION LIAISON                                   │
│     ├── PSAC approval                                       │
│     ├── SOI (Stage of Involvement) reviews                  │
│     └── SAS (Software Accomplishment Summary)               │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

______________________________________________________________________

## Wymagania wg DAL

```
┌─────────────────────────────────────────────────────────────┐
│              WYMAGANIA wg DAL (DO-178C)                     │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  WYMAGANIA TRACEABILITY:                                    │
│  ├── DAL A: Full bi-directional traceability               │
│  ├── DAL B: Full traceability                              │
│  ├── DAL C: Requirements to code                           │
│  ├── DAL D: Requirements to tests                          │
│  └── DAL E: None required                                   │
│                                                             │
│  CODE COVERAGE:                                             │
│  ├── DAL A: MC/DC (Modified Condition/Decision Coverage)   │
│  ├── DAL B: Decision Coverage                               │
│  ├── DAL C: Statement Coverage                              │
│  ├── DAL D: Statement Coverage                              │
│  └── DAL E: None required                                   │
│                                                             │
│  INDEPENDENCE:                                              │
│  ├── DAL A: Independent verification, independent QA       │
│  ├── DAL B: Independent verification                       │
│  ├── DAL C: Some independent review                        │
│  ├── DAL D: Developer may verify                           │
│  └── DAL E: None required                                   │
│                                                             │
│  TESTING:                                                   │
│  ├── DAL A: 100% requirements coverage, robustness testing │
│  ├── DAL B: 100% requirements coverage                      │
│  ├── DAL C: Requirements coverage                           │
│  ├── DAL D: Functional testing                              │
│  └── DAL E: As needed                                       │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

______________________________________________________________________

## Use Cases (Zastosowania praktyczne)

### Systemy lotnicze wg DAL

| DAL | System | Przykłady |
|-----|--------|-----------|
| **DAL-A** | Fly-by-Wire | Airbus A320 FCS, Boeing 777 FCS |
| **DAL-A** | Autoland | CAT IIIb autoland systems |
| **DAL-B** | Engine Control | FADEC (Full Authority Digital Engine Control) |
| **DAL-B** | Navigation | FMS (Flight Management System) |
| **DAL-C** | Communication | VHF radio, ACARS |
| **DAL-C** | Displays | EICAS, ECAM (secondary) |
| **DAL-D** | Cabin Systems | Cabin pressure control |
| **DAL-E** | Entertainment | IFE (In-Flight Entertainment) |

______________________________________________________________________

## MC/DC Coverage (dla DAL-A)

```
┌─────────────────────────────────────────────────────────────┐
│                    MC/DC COVERAGE                           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  DEFINICJA:                                                 │
│  Modified Condition/Decision Coverage                       │
│                                                             │
│  WYMAGANIA:                                                 │
│  1. Każdy punkt wejścia i wyjścia jest wykonywany          │
│  2. Każdy warunek przyjmuje wartość true i false           │
│  3. Każda decyzja przyjmuje wartość true i false           │
│  4. Każdy warunek niezależnie wpływa na wynik decyzji      │
│                                                             │
│  PRZYKŁAD:                                                  │
│                                                             │
│  if (A and B) then ...                                      │
│                                                             │
│  Warunki: A, B                                              │
│  Decyzja: (A and B)                                         │
│                                                             │
│  MC/DC wymaga:                                              │
│  ├── Test z A=true, B=true → wynik=true                    │
│  ├── Test z A=false, B=true → wynik=false (A niezależnie)  │
│  ├── Test z A=true, B=false → wynik=false (B niezależnie)  │
│  └── Minimalna liczba testów dla n warunków = n+1          │
│                                                             │
│  TABELA PRAWDY:                                             │
│  ┌───────┬───────┬─────────┐                                │
│  │   A   │   B   │ A AND B │                                │
│  ├───────┼───────┼─────────┤                                │
│  │ true  │ true  │ true    │ ← Test 1                      │
│  │ false │ true  │ false   │ ← Test 2 (A independent)      │
│  │ true  │ false │ false   │ ← Test 3 (B independent)      │
│  └───────┴───────┴─────────┘                                │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

______________________________________________________________________

## Traceability Matrix

```
┌─────────────────────────────────────────────────────────────┐
│                 TRACEABILITY MATRIX                         │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│   High-Level     Low-Level        Source          Test      │
│   Requirements   Requirements     Code                       │
│   ────────────   ────────────     ──────          ─────     │
│   HLR-001    ──► LLR-001      ──► main.c:45  ──► TEST-001   │
│       │           │                   │               │     │
│       │           └─► LLR-002  ──► utils.c:12 ──► TEST-002  │
│       │                                      │              │
│       └──────────────────────────────────────┘              │
│                                                             │
│   WYMAGANIA DO-178C:                                        │
│   ├── HLR → LLR → Code (forward traceability)              │
│   ├── Code → LLR → HLR (backward traceability)             │
│   ├── HLR → Test (requirements coverage)                   │
│   └── Code → Test (code coverage)                          │
│                                                             │
│   NARZĘDZIA:                                                │
│   ├── DOORS, Jama Connect, PTC Integrity                   │
│   ├── Polarion, Traceability Matrix Tools                  │
│   └── Git + Requirements Management                        │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

______________________________________________________________________

## DO-254 dla sprzętu

```
┌─────────────────────────────────────────────────────────────┐
│                    DO-254 (HARDWARE)                        │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ZAKRES:                                                    │
│  ├── FPGA (Field Programmable Gate Array)                  │
│  ├── ASIC (Application Specific Integrated Circuit)        │
│  ├── PLD (Programmable Logic Device)                       │
│  └── Custom hardware                                        │
│                                                             │
│  DAL IDENTYCZNY JAK DO-178C:                                │
│  ├── DAL A: Najwyższy poziom                                │
│  └── DAL E: Brak wymagań                                    │
│                                                             │
│  WYMAGANIA:                                                 │
│  ├── Hardware Requirements                                  │
│  ├── Hardware Design                                        │
│  ├── Hardware Verification                                  │
│  └── Configuration Management                               │
│                                                             │
│  METODY WALIDACJI:                                          │
│  ├── Simulation (VHDL/Verilog)                             │
│  ├── Formal methods (dla DAL A/B)                          │
│  ├── Hardware testing                                       │
│  └── Elemental analysis                                     │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

______________________________________________________________________

## Zagrożenia

| Zagrożenie | Opis | Mitigacja |
|------------|------|-----------|
| **Brak traceability** | Luki w powiązaniach | Automatyczne narzędzia |
| **Niewystarczające testy** | Brak coverage | MC/DC analysis |
| **Niezależność** | Brak niezależnej weryfikacji | Osobny zespół QA |
| **Zmiany** | Brak analizy wpływu | Impact analysis |
| **Koszt** | Bardzo wysoki koszt DAL-A | Reuse, narzędzia |

______________________________________________________________________

## Narzędzia dla DO-178C

| Kategoria | Narzędzia | Zastosowanie |
|-----------|-----------|--------------|
| **Requirements** | DOORS, Jama | Requirements management |
| **Modeling** | Simulink, SCADE | Model-based design |
| **Code generation** | Embedded Coder | Auto code generation |
| **Static analysis** | LDRA, Polyspace | Code quality |
| **Testing** | VectorCAST, Cantata | Unit/integration testing |
| **Coverage** | Bullseye, LCov | Code coverage |
| **Configuration** | Git, ClearCase | Version control |

______________________________________________________________________

## Kierunki rozwoju

### 1. DO-178C Supplements

- **DO-331**: Model-based development
- **DO-332**: Object-oriented technology
- **DO-333**: Formal methods
- **DO-330**: Tool qualification

### 2. Automated Certification

- Automatyczne generowanie dowodów
- Continuous certification

### 3. Integration with Agile

- DO-178C w metodykach Agile
- Incremental certification

______________________________________________________________________

## Zadanie praktyczne

```
ZADANIE:
Oprogramowanie sterowania lotem ma następującą funkcję:

bool engage_autopilot(bool mode_switch, bool altitude_valid,
                      bool speed_valid, bool heading_valid) {
    return mode_switch && altitude_valid && speed_valid && heading_valid;
}

PYTANIA:
1. Ile testów wymaga MC/DC dla DAL-A?
2. Zaprojektuj testy MC/DC
3. Jaki coverage da zwykły Decision Coverage?

ROZWIĄZANIE:
1. Liczba warunków = 4, więc minimum n+1 = 5 testów

2. Testy MC/DC:
   ┌────┬────────┬────────┬────────┬────────┬────────┐
   │ Nr │ switch │ alt    │ speed  │ heading│ wynik  │
   ├────┼────────┼────────┼────────┼────────┼────────┤
   │ 1  │ T      │ T      │ T      │ T      │ T      │
   │ 2  │ F      │ T      │ T      │ T      │ F      │ (switch)
   │ 3  │ T      │ F      │ T      │ T      │ F      │ (alt)
   │ 4  │ T      │ T      │ F      │ T      │ F      │ (speed)
   │ 5  │ T      │ T      │ T      │ F      │ F      │ (heading)
   └────┴────────┴────────┴────────┴────────┴────────┘

3. Decision Coverage wymaga tylko 2 testów (T i F wynik)
   ale NIE spełnia MC/DC dla DAL-A!
```

______________________________________________________________________

## Pytania kontrolne

1. Czym różni się DAL-A od DAL-D?
1. Dlaczego MC/DC jest wymagane dla DAL-A?
1. Co to jest traceability i dlaczego jest ważne?
1. Jakie są etapy certyfikacji DO-178C?

______________________________________________________________________

## Literatura

1. DO-178C, "Software Considerations in Airborne Systems"
1. DO-254, "Design Assurance Guidance for Airborne Electronic Hardware"
1. DO-330, "Software Tool Qualification Considerations"
1. FAA AC 20-115D, "Airborne Software Assurance"
