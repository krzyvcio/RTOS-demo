# ISO 26262 - Norma Bezpieczeństwa Funkcjonalnego (Automotive)

## Definicja

Międzynarodowa norma określająca wymagania dla bezpieczeństwa funkcjonalnego w pojazdach samochodowych. Definiuje poziomy ASIL (Automotive Safety Integrity Level) oraz procesy wytwarzania bezpiecznego oprogramowania.

______________________________________________________________________

## Struktura normy ISO 26262

```
┌───────────────────────────────────────────────────────────────┐
│                    ISO 26262 - CZĘŚCI                        │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│  Część 1: Słownik pojęć                                      │
│  ├── Definicje terminów                                      │
│  └── Skróty i symbole                                        │
│                                                               │
│  Część 2: Zarządzanie bezpieczeństwem funkcjonalnym          │
│  ├── Safety management                                        │
│  └── Safety culture                                           │
│                                                               │
│  Część 3: Faza koncepcyjna                                   │
│  ├── Item definition                                          │
│  ├── Hazard analysis and risk assessment (HARA)              │
│  └── Safety goals                                             │
│                                                               │
│  Część 4: Rozwój systemu                                     │
│  ├── Technical safety concept                                │
│  └── System design                                            │
│                                                               │
│  Część 5: Rozwój na poziomie sprzętowym                      │
│  ├── Hardware design                                          │
│  └── Hardware safety analysis                                │
│                                                               │
│  Część 6: Rozwój na poziomie oprogramowania  ← KLUCZOWE      │
│  ├── Software safety requirements                            │
│  ├── Software design                                          │
│  └── Verification and validation                              │
│                                                               │
│  Część 7: Produkcja, eksploatacja, serwis                    │
│  └── Safety through lifecycle                                │
│                                                               │
│  Część 8: Procesy wspierające                                │
│  ├── Configuration management                                │
│  └── Documentation                                            │
│                                                               │
│  Część 9: Analiza ASIL                                       │
│  └── ASIL decomposition                                       │
│                                                               │
│  Część 10: Wytyczne                                          │
│  └── Application guidelines                                  │
│                                                               │
│  Część 11: Wytyczne dla semikonduktorów                      │
│  └── IC development                                           │
│                                                               │
│  Część 12: Wytyczne dla motocykli                            │
│  └── Motorcycle adaptation                                   │
│                                                               │
└───────────────────────────────────────────────────────────────┘
```

______________________________________________________________________

## Poziomy ASIL

```
┌───────────────────────────────────────────────────────────────┐
│                    POZIOMY ASIL                               │
├───────────────────────────────────────────────────────────────┤
│                                                               │
│  KLASYFIKACJA RYZYKA (HARA - Hazard Analysis):               │
│                                                               │
│  ┌──────────────────────────────────────────────────────┐    │
│  │            │ SEVERITY (S)                             │    │
│  │            │ S1    │ S2    │ S3    │ S4               │    │
│  │ EXPOSURE   │       │       │       │                  │    │
│  │ (E)        │       │       │       │                  │    │
│  ├────────────┼───────┼───────┼───────┼────────────────┤    │
│  │ E1         │ QM    │ QM    │ QM    │ QM              │    │
│  │ E2         │ QM    │ QM    │ QM    │ ASIL A          │    │
│  │ E3         │ QM    │ QM    │ ASIL A│ ASIL B          │    │
│  │ E4         │ QM    │ ASIL A│ ASIL B│ ASIL C/D        │    │
│  └────────────┴───────┴───────┴───────┴────────────────┘    │
│                                                               │
│  CONTROLLABILITY (C) wpływa na wynik:                        │
│  ├── C1: Łatwe do opanowania → niższy ASIL                  │
│  ├── C2: Średnie trudne → średni ASIL                       │
│  └── C3: Trudne/niemożliwe → wyższy ASIL                    │
│                                                               │
│  POZIOMY:                                                     │
│  ├── QM: Quality Managed - brak wymagań bezpieczeństwa      │
│  ├── ASIL A: Najniższy poziom bezpieczeństwa                │
│  ├── ASIL B: Niski poziom                                    │
│  ├── ASIL C: Średni poziom                                   │
│  └── ASIL D: Najwyższy poziom bezpieczeństwa                │
│                                                               │
└───────────────────────────────────────────────────────────────┘
```

______________________________________________________________________

## Use Cases (Zastosowania)

### Przykłady systemów wg ASIL

| ASIL | System | Ryzyko przy awarii |
|------|--------|-------------------|
| **ASIL-D** | Hamulce, kierowanie, airbag | Śmierć, ciężkie obrażenia |
| **ASIL-C** | Światła, wycieraczki, wsteczny | Znaczne obrażenia |
| **ASIL-B** | Poduszki (niekrytyczne), lusterka | Możliwe obrażenia |
| **ASIL-A** | Komfort, wygoda | Małe obrażenia |
| **QM** | Infotainment, multimedia | Brak obrażeń |

### Proces HARA - przykład

```
SYSTEM: Electric Power Steering (EPS)

HAZARD: Utrata wspomagania kierownicy

ANALIZA:
├── Exposure (E): E4 - kierowca zawsze kontroluje kierownicę
├── Severity (S): S3 - ciężkie obrażenia możliwe
└── Controllability (C): C3 - trudne do opanowania

WYNIK: ASIL-D

SAFETY GOALS:
├── SG1: EPS musi zapewniać wspomaganie w wszystkich warunkach
├── SG2: Awaria musi być wykryta w <100ms
└── SG3: Safe state musi być osiągnięte w <500ms
```

______________________________________________________________________

## Wymagania dla oprogramowania (Część 6)

```
┌─────────────────────────────────────────────────────────────┐
│              WYMAGANIA ISO 26262-6 wg ASIL                  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  METODY PROJEKTOWANIA:                                      │
│  ├── ASIL A: Natural language, semi-formal notation        │
│  ├── ASIL B: + Block diagrams, state machines              │
│  ├── ASIL C: + Formal methods (recommended)                │
│  └── ASIL D: Formal methods required                        │
│                                                             │
│  WERYFIKACJA:                                               │
│  ├── ASIL A: Reviews, walk-through                          │
│  ├── ASIL B: + Inspection, static analysis                 │
│  ├── ASIL C: + Unit testing, coverage > 80%                │
│  └── ASIL D: Coverage 100%, MC/DC, formal verification      │
│                                                             │
│  ARCHITEKTURA:                                              │
│  ├── ASIL A: Basic design                                   │
│  ├── ASIL B: + Safety mechanisms                            │
│  ├── ASIL C: + Redundancy, diverse design                   │
│  └── ASIL D: Full redundancy, diverse implementation        │
│                                                             │
│  KODOWANIE:                                                 │
│  ├── ASIL A: Coding guidelines                              │
│  ├── ASIL B: + MISRA C (required)                          │
│  ├── ASIL C: + Static analysis                              │
│  └── ASIL D: + Formal code verification                     │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

______________________________________________________________________

## ASIL Decomposition

```
┌─────────────────────────────────────────────────────────────┐
│                    ASIL DECOMPOSITION                       │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ZASADA:                                                    │
│  Wyższy ASIL można rozłożyć na niższe, jeśli:              │
│  ├── Elementy są niezależne (brak wspólnych przyczyn)      │
│  └── Każdy element spełnia swoje wymagania                  │
│                                                             │
│  PRZYKŁAD:                                                  │
│                                                             │
│  Safety Goal: ASIL-D                                        │
│                                                             │
│           ┌─────────────────────────────┐                   │
│           │      ASIL-D (System)        │                   │
│           └─────────────┬───────────────┘                   │
│                         │                                   │
│           ┌─────────────┴───────────────┐                   │
│           │                             │                   │
│    ┌──────▼──────┐               ┌──────▼──────┐           │
│    │   ASIL-B    │               │   ASIL-B    │           │
│    │  (Primary)  │               │ (Secondary) │           │
│    └─────────────┘               └─────────────┘           │
│                                                             │
│  DEKOMPOZYCJA:                                              │
│  ├── ASIL-D → ASIL-C(D) + ASIL-A(D)                        │
│  ├── ASIL-D → ASIL-B(D) + ASIL-B(D)                        │
│  ├── ASIL-C → ASIL-B(C) + ASIL-A(C)                        │
│  └── ASIL-B → ASIL-A(B) + ASIL-A(B)                        │
│                                                             │
│  WARUNKI:                                                   │
│  ├── Brak wspólnych przyczyn awarii (Common Cause)         │
│  ├── Niezależne implementacje                               │
│  └── Niezależne weryfikacja                                 │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

______________________________________________________________________

## Zagrożenia

| Zagrożenie | Opis | Mitigacja |
|------------|------|-----------|
| **Niewłaściwa klasyfikacja ASIL** | Za niski ASIL | Dokładny HARA |
| **Common Cause Failure** | Awaria obu ścieżek | Diverse design |
| **Niespełnienie wymagań** | Brak dowodów | Traceability |
| **Zmiany w projekcie** | Impact na ASIL | Change management |
| **Koszt certyfikacji** | Wysokie koszty | Reuse, narzędzia |

______________________________________________________________________

## Narzędzia wspierające ISO 26262

| Kategoria | Narzędzia | Zastosowanie |
|-----------|-----------|--------------|
| **Modelowanie** | Simulink, SCADE | Design, simulation |
| **Kodowanie** | Embedded Coder, SCADE | Code generation |
| **Statyczna analiza** | LDRA, Polyspace, Coverity | Code quality |
| **Testowanie** | VectorCAST, Cantata | Unit/integration test |
| **Coverage** | GCov, Bullseye | Code coverage |
| **Traceability** | DOORS, PTC Integrity | Requirements |

______________________________________________________________________

## Kierunki rozwoju

### 1. ISO 26262:2018 (aktualna wersja)

- Rozszerzenie o semiconductory (Part 11)
- Rozszerzenie o motocykle (Part 12)
- Lepsza integracja z ASPICE

### 2. SOTIF (ISO 21448)

- Safety of the Intended Function
- Dla systemów autonomicznych
- Uzupełnienie ISO 26262

### 3. Cybersecurity (ISO 21434)

- Bezpieczeństwo cybernetyczne
- Integracja z ISO 26262

______________________________________________________________________

## Zadanie praktyczne

```
ZADANIE:
Przeprowadź HARA dla systemu Electric Parking Brake (EPB):

SCENARIUSZ:
Elektryczny hamulec postojowy nie zwalnia przy ruszaniu.

PYTANIA:
1. Określ Exposure (E)
2. Określ Severity (S)
3. Określ Controllability (C)
4. Wyznacz ASIL
5. Zaproponuj Safety Goals

ROZWIĄZANIE:
1. Exposure: E4 - kierowca zawsze używa hamulca postojowego

2. Severity: S3 - ciężkie obrażenia przy zderzeniu

3. Controllability: C2 - kierowca może zareagować
   (alternatywnie C3 jeśli auto na stoku)

4. ASIL: E4 × S3 × C2 = ASIL-B
   (lub ASIL-C dla stoku)

5. Safety Goals:
   - SG1: EPB musi zwalniać w <500ms po komendzie
   - SG2: Awaria silnika musi być wykryta
   - SG3: Failsafe: mechaniczny awaryjny hamulec
```

______________________________________________________________________

## Pytania kontrolne

1. Czym różni się ASIL-D od ASIL-A?
1. Jakie są metody dekompozycji ASIL?
1. Dlaczego HARA jest kluczowe dla klasyfikacji?
1. Jakie wymagania na coverage dla ASIL-D?

______________________________________________________________________

## Literatura

1. ISO 26262:2018, "Road vehicles – Functional safety"
1. MISRA C:2012, "Guidelines for the use of the C language"
1. SAE J2980, "Considerations for ISO 26262 ASIL Hazard Classification"
1. NVIDIA, "ISO 26262 Process and Methods"
